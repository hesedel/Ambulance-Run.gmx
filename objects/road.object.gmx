<!--This Document is generated by GameMaker, if you edit it by hand then you do so at your own risk!-->
<object>
  <spriteName>&lt;undefined&gt;</spriteName>
  <solid>0</solid>
  <visible>-1</visible>
  <depth>0</depth>
  <persistent>0</persistent>
  <parentName>&lt;undefined&gt;</parentName>
  <maskName>&lt;undefined&gt;</maskName>
  <events>
    <event eventtype="0" enumb="0">
      <action>
        <libid>1</libid>
        <id>611</id>
        <kind>6</kind>
        <userelative>-1</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>y_current</string>
          </argument>
          <argument>
            <kind>0</kind>
            <string>0</string>
          </argument>
        </arguments>
      </action>
      <action>
        <libid>1</libid>
        <id>611</id>
        <kind>6</kind>
        <userelative>-1</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>step</string>
          </argument>
          <argument>
            <kind>0</kind>
            <string>0</string>
          </argument>
        </arguments>
      </action>
      <action>
        <libid>1</libid>
        <id>611</id>
        <kind>6</kind>
        <userelative>-1</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>step_previous</string>
          </argument>
          <argument>
            <kind>0</kind>
            <string>0</string>
          </argument>
        </arguments>
      </action>
      <action>
        <libid>1</libid>
        <id>611</id>
        <kind>6</kind>
        <userelative>-1</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>step_current</string>
          </argument>
          <argument>
            <kind>0</kind>
            <string>0</string>
          </argument>
        </arguments>
      </action>
      <action>
        <libid>1</libid>
        <id>611</id>
        <kind>6</kind>
        <userelative>-1</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>road_step</string>
          </argument>
          <argument>
            <kind>0</kind>
            <string>0</string>
          </argument>
        </arguments>
      </action>
      <action>
        <libid>1</libid>
        <id>611</id>
        <kind>6</kind>
        <userelative>-1</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>road_repeat</string>
          </argument>
          <argument>
            <kind>0</kind>
            <string>0</string>
          </argument>
        </arguments>
      </action>
      <action>
        <libid>1</libid>
        <id>611</id>
        <kind>6</kind>
        <userelative>-1</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>r_lanes_previous</string>
          </argument>
          <argument>
            <kind>0</kind>
            <string>2</string>
          </argument>
        </arguments>
      </action>
      <action>
        <libid>1</libid>
        <id>611</id>
        <kind>6</kind>
        <userelative>-1</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>r_column_previous</string>
          </argument>
          <argument>
            <kind>0</kind>
            <string>2</string>
          </argument>
        </arguments>
      </action>
      <action>
        <libid>1</libid>
        <id>201</id>
        <kind>0</kind>
        <userelative>-1</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>1</exetype>
        <functionname>action_create_object</functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>10</kind>
            <object>road_2_lanes</object>
          </argument>
          <argument>
            <kind>0</kind>
            <string>128</string>
          </argument>
          <argument>
            <kind>0</kind>
            <string>240</string>
          </argument>
        </arguments>
      </action>
      <action>
        <libid>1</libid>
        <id>201</id>
        <kind>0</kind>
        <userelative>-1</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>1</exetype>
        <functionname>action_create_object</functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>10</kind>
            <object>road_2_lanes</object>
          </argument>
          <argument>
            <kind>0</kind>
            <string>128</string>
          </argument>
          <argument>
            <kind>0</kind>
            <string>0</string>
          </argument>
        </arguments>
      </action>
      <action>
        <libid>1</libid>
        <id>201</id>
        <kind>0</kind>
        <userelative>-1</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>1</exetype>
        <functionname>action_create_object</functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>10</kind>
            <object>road_2_lanes</object>
          </argument>
          <argument>
            <kind>0</kind>
            <string>128</string>
          </argument>
          <argument>
            <kind>0</kind>
            <string>-240</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="3" enumb="0">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>if(y &gt; y_current)
    y_current = y;

step = ceil(y / (room_height / 2));

if(step &gt; step_previous &amp;&amp; step &gt; step_current) {
    step_current = step;

    if(step &gt; 1 &amp;&amp; road_repeat == 0)
        road_step++;

    // repeat level
    if(road_step &gt; array_height_2d(global.room_step) - 1)
        road_step = 0;

    r_lanes = global.room_step[road_step,0];
    r_column = global.room_step[road_step,1];
    r_repeat = global.room_step[road_step,2];

    switch(r_lanes) {
        case 4:
            road_lane = road_4_lanes;
            break;
        case 3:
            road_lane = road_3_lanes;
            break;
        default:
            road_lane = road_2_lanes;
    }

    road_new = instance_create(64 * r_column,-((step + 1) * (room_height / 2)),road_lane);

    // load exits
    if(r_column + r_lanes &lt; r_column_previous + r_lanes_previous) {
        switch((r_column_previous + r_lanes_previous) - (r_column + r_lanes)) {
            case 1:
                instance_create(road_new.x + road_new.sprite_width - 16,road_new.y,exit_1_ne);
                break;
            case 2:
                instance_create(road_new.x + road_new.sprite_width - 16,road_new.y,exit_2_ne);
                break;
        }
    }
    if(r_column &gt; r_column_previous) {
        switch(r_column - r_column_previous) {
            case 1:
                with(instance_create(road_new.x,road_new.y,exit_1_nw))
                    x_init = x_init - sprite_width + 16;
                    //x = x - sprite_width + 16
                break;
            case 2:
                with(instance_create(road_new.x,road_new.y,exit_2_nw))
                    x_init = x_init - sprite_width + 16;
                    //x = x - sprite_width + 16;
                break;
        }
    }
    if(r_column + r_lanes &gt; r_column_previous + r_lanes_previous) {
        switch((r_column + r_lanes) - (r_column_previous + r_lanes_previous)) {
            case 1:
                instance_create(road_new.x + road_new.sprite_width - 64 - 16,road_new.y,exit_1_se);
                break;
            case 2:
                instance_create(road_new.x + road_new.sprite_width - (64 * 2) - 16,road_new.y,exit_2_se);
                break
        }
    }
    if(r_column &lt; r_column_previous) {
        switch(r_column_previous - r_column) {
            case 1:
                with(instance_create(road_new.x,road_new.y,exit_1_sw))
                    x_init = x_init - sprite_width + 64 + 16;
                    //x = x - sprite_width + 64 + 16;
                break;
            case 2:
                with(instance_create(road_new.x,road_new.y,exit_2_sw))
                    x_init = x_init - sprite_width + (64 * 2) + 16;
                    //x = x - sprite_width + (64 * 2) + 16;
                break;
        }
    }
    r_lanes_previous = r_lanes;
    r_column_previous = r_column;

    // load vehicle
    with(road_new) {
        lane_random = irandom(road.r_lanes - 1);
        //y_random = random_range(y,y + sprite_height);
        y_random = y + sprite_height;
        with(road) {
            //road_new_x = road_new.x;
            //road_new_y = road_new.y;
            //road_new_sprite_height = road_new.sprite_height;
            vehicle_new = instance_create(road.road_new.x + 32 + (64 * road.road_new.lane_random),road.road_new.y_random,car);
            //with(vehicle_new) {
                //do {
                //    lane_random = irandom(road.r_lanes - 1);
                //    y_random = random_range(road.road_new_y,road.road_new_y + road.road_new_sprite_height);
                //    x = road.road_new_x + 32 + (64 * lane_random);
                //    y = random_range(road.road_new_y,road.road_new_y + road.road_new_sprite_height);
                //} until(!place_meeting(x,y,vehicles));
            //}
        }
    }

    // load Siren
    if(global.room_step[road_step,3] == 1) {
        with(road_new) {
            lane_random = irandom(road.r_lanes - 1);
            //y_random = random_range(y,y + sprite_height);
            y_random = y + (sprite_height / 2);
            with(road) {
                instance_create(road.road_new.x + 32 + (64 * road.road_new.lane_random),road.road_new.y_random,siren);
            }
        }
    }
    
    if(road_repeat == 0)
        road_repeat = r_repeat;
    road_repeat--;

}

step_previous = step;
</string>
          </argument>
        </arguments>
      </action>
    </event>
  </events>
  <PhysicsObject>0</PhysicsObject>
  <PhysicsObjectSensor>0</PhysicsObjectSensor>
  <PhysicsObjectShape>0</PhysicsObjectShape>
  <PhysicsObjectDensity>0.5</PhysicsObjectDensity>
  <PhysicsObjectRestitution>0.100000001490116</PhysicsObjectRestitution>
  <PhysicsObjectGroup>0</PhysicsObjectGroup>
  <PhysicsObjectLinearDamping>0.100000001490116</PhysicsObjectLinearDamping>
  <PhysicsObjectAngularDamping>0.100000001490116</PhysicsObjectAngularDamping>
  <PhysicsObjectFriction>0.200000002980232</PhysicsObjectFriction>
  <PhysicsObjectAwake>-1</PhysicsObjectAwake>
  <PhysicsObjectKinematic>0</PhysicsObjectKinematic>
  <PhysicsShapePoints/>
</object>
